<!DOCTYPE html>
<html>
<head>
    <title>Arbitrage Sniper Live</title>
    <style>
        body { background: #121212; color: white; font-family: sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #333; padding: 10px; text-align: left; }
        th { background: #1f1f1f; color: #888; }
        .buy { color: #00ff88; }
        .sell { color: #ff4444; }
        .spread { font-weight: bold; color: #f0b90b; }
    </style>
</head>
<body>
    <h1>ðŸ“¡ SeÃ±ales en Tiempo Real</h1>
    <table>
        <thead>
            <tr>
                <th>Hora</th>
                <th>Compra</th>
                <th>Venta</th>
                <th>Spread %</th>
            </tr>
        </thead>
        <tbody id="log"></tbody>
    </table>

    <script>
        const socket = new WebSocket('ws://127.0.0.1:8765');

        const log = document.getElementById('log');

        socket.onmessage = (event) => {
            const data = JSON.parse(event.data);
            const row = log.insertRow(0); // Insertar al inicio
            row.innerHTML = `
                <td>${new Date().toLocaleTimeString()}</td>
                <td class="buy">${data.buy}</td>
                <td class="sell">${data.sell}</td>
                <td class="spread">${data.spread}%</td>
            `;
            // Mantener solo las Ãºltimas 15 seÃ±ales
            if (log.rows.length > 15) log.deleteRow(15);
        };
    </script>
</body>
</html>